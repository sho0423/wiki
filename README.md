# wiki

zip解凍、あるいはコマンドプロンプト（or ターミナル)で`git clone`が完了しましたら、`wiki`ディレクトリに移動してから

`npm install`
を実行してください。必要なパッケージをインストールします。完了しましたら、

`npm run start`

と打ち込んでいただくと`localhost:3001`にサーバーが立つのでアプリの挙動を評価していただきたいです。

# 実装したところ

- serverフォルダに3つの'.db'ファイルがあります。それらがデータベース(NeDB)です。
  - ユーザー情報保管用
  - タイムライン保管用
  - wikiデータ保管用
- ログインボタンからログインすることでタイムラインの行き来や、記事の編集が可能になります。
  - ユーザ名: test pass: test
  - ユーザ名: test2 pass: test2
  
  という試験的なユーザーを用意しました。もちろん作成することも可能です。この際、`users.db`に直接パスワードが保管されていないことをご確認ください。これにより万が一データ漏洩しても顧客情報は守られます。
- 最終編集者がわかる仕組みを導入しました。
- wikiの編集ではマークダウン的な記述を可能にしています。これはpegjsというパーサージェネレータによる実装です。
  - `*タイトル`
  - `-リスト`
  - `>引用`
  - `@リンク`
  
  といった表記に対応しています。
- タイムライン機能では気に入ったユーザーを友達登録することで、最大20件まで最新のタイムラインを表示できます。
  - 非同期通信には対応していません(今後websocketにより実装予定)
  - 友達登録した人はタイムラインが共有されます。
  
# 今後の実装案

- ログイン機能の一層の充実
  - ブックマーク機能
  - メール連携
  - 通知設定
  - 支払機能
  - アカウント権限の差別化(生徒or教師)
  - 現行だと時間無制限で(localStorageの状態だけに依存して)ログインが持続するため、一定時間の無リクエストにより自動ログアウト
  
- 複雑なセッションの導入
  - ショッピングや課題提出機能、Quiz機能を実装する上では必須
  
- 実機サーバーデプロイ
  - AWSが最有力(dockerコンテナ導入が望ましい)
 
- マネタイズシステム構築
  - 広告
  - 一日利用回数の制限
  
  
  
  
